# podman must be installed

#docker -- install -- sudo apt-get install docker
#nohup dockerd > docker.log &   # start the docker daemon
#docker pull postgres
#docker volume create pgdata
#docker run -v postdata:/var/lib/postgresql/data --net=host  --name postgresETL -e POSTGRES_PASSWORD=plugh -d postgres

podman volume create pgdata
podman run -v pg:/var/lib/postgresql/18/docker -p 5432:5432  --name pg -e POSTGRES_PASSWORD=plugh -d docker.io/postgres

# one time create the dataflow schema and user
plsql -U postgres -h localhost 
create user etl with encrypted password 'plugh';
create database dataflow;
GRANT ALL PRIVILEGES ON DATABASE dataflow TO etl;  
\c dataflow;  
CREATE SCHEMA dataflow AUTHORIZATION etl;


# set this up to run sql at least until you get the functionality from dataflow
# you should not use pgpassword in production
alias sql='psql -U etl  -d dataflow -h localhost'
export PGPASSWORD='plugh'

sql -c 'select user'
# run the create_dataflow.sql to create the tables

